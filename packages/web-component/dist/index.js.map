{"version":3,"sources":["../src/PageBuilder.ts"],"sourcesContent":["import { PageBuilderCore } from \"core\";\r\n\r\nclass PageBuilderElement extends HTMLElement {\r\n  private core: PageBuilderCore | null = null;\r\n  private _config: { components: Record<string, any> } = { components: {} };\r\n\r\n  constructor() {\r\n    super();\r\n    this.core = new PageBuilderCore(this._config);\r\n  }\r\n\r\n  // Use observedAttributes to monitor the config-data attribute\r\n  static get observedAttributes() {\r\n    return ['config-data'];\r\n  }\r\n\r\n  attributeChangedCallback(name: string, oldValue: string, newValue: string) {\r\n    if (name === 'config-data' && newValue !== oldValue) {\r\n      try {\r\n        const parsedConfig = JSON.parse(newValue);\r\n        this._config = parsedConfig;\r\n        this.core = new PageBuilderCore(parsedConfig);\r\n        console.log(\"✅ Config received in Web Component:\", parsedConfig);\r\n        this.render();\r\n      } catch (e) {\r\n        console.error(\"Failed to parse config:\", e);\r\n      }\r\n    }\r\n  }\r\n\r\n  connectedCallback() {\r\n    console.log(\"✅ Web Component Mounted\");\r\n    this.render();\r\n  }\r\n\r\n  render() {\r\n    // Render the entire config object as a pre-formatted JSON string\r\n    this.innerHTML = `\r\n      <div>\r\n        <h3>Page Builder Web Component</h3>\r\n        <pre>${JSON.stringify(this._config, null, 2)}</pre>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\n// Ensure the Web Component is registered\r\nif (!customElements.get(\"page-builder\")) {\r\n  customElements.define(\"page-builder\", PageBuilderElement);\r\n}"],"mappings":";AAAA,SAAS,uBAAuB;AAEhC,IAAM,qBAAN,cAAiC,YAAY;AAAA,EAI3C,cAAc;AACZ,UAAM;AAJR,SAAQ,OAA+B;AACvC,SAAQ,UAA+C,EAAE,YAAY,CAAC,EAAE;AAItE,SAAK,OAAO,IAAI,gBAAgB,KAAK,OAAO;AAAA,EAC9C;AAAA;AAAA,EAGA,WAAW,qBAAqB;AAC9B,WAAO,CAAC,aAAa;AAAA,EACvB;AAAA,EAEA,yBAAyB,MAAc,UAAkB,UAAkB;AACzE,QAAI,SAAS,iBAAiB,aAAa,UAAU;AACnD,UAAI;AACF,cAAM,eAAe,KAAK,MAAM,QAAQ;AACxC,aAAK,UAAU;AACf,aAAK,OAAO,IAAI,gBAAgB,YAAY;AAC5C,gBAAQ,IAAI,4CAAuC,YAAY;AAC/D,aAAK,OAAO;AAAA,MACd,SAAS,GAAG;AACV,gBAAQ,MAAM,2BAA2B,CAAC;AAAA,MAC5C;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,YAAQ,IAAI,8BAAyB;AACrC,SAAK,OAAO;AAAA,EACd;AAAA,EAEA,SAAS;AAEP,SAAK,YAAY;AAAA;AAAA;AAAA,eAGN,KAAK,UAAU,KAAK,SAAS,MAAM,CAAC,CAAC;AAAA;AAAA;AAAA,EAGlD;AACF;AAGA,IAAI,CAAC,eAAe,IAAI,cAAc,GAAG;AACvC,iBAAe,OAAO,gBAAgB,kBAAkB;AAC1D;","names":[]}